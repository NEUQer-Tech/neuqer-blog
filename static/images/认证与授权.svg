<svg id="SvgjsSvg1006" width="2021" height="5508" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1028" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1029" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1036" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1037" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1044" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1045" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1052" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1053" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1110" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1111" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1118" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1119" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1126" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1127" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1134" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1135" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1172" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1173" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1176" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1177" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1288" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1289" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1296" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1297" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1324" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1325" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1334" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1335" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1344" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1345" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1360" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1361" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1368" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1369" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1441" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1442" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1455" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1456" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1487" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1488" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1497" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1498" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1507" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1508" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1517" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1518" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1533" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1534" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1541" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1542" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1563" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1564" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1571" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1572" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1583" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1584" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1591" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1592" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1599" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1600" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1603" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1604" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><g id="SvgjsG1008" transform="translate(308,108)"><path id="SvgjsPath1009" d="M 0 0L 130 0L 130 307L 0 307Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="110px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="143.875" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="16" x="65"><tspan id="SvgjsTspan1013" style="text-decoration:;">浏览器</tspan></tspan></text></g></g><g id="SvgjsG1014" transform="translate(761.75,103)"><path id="SvgjsPath1015" d="M 0 0L 99 0L 99 117L 0 117Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1016"><text id="SvgjsText1017" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="79px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="48.875" transform="rotate(0)"><tspan id="SvgjsTspan1018" dy="16" x="49.5"><tspan id="SvgjsTspan1019" style="text-decoration:;">前端</tspan></tspan></text></g></g><g id="SvgjsG1020" transform="translate(1206.75,113)"><path id="SvgjsPath1021" d="M 0 0L 135 0L 135 287L 0 287Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1022"><text id="SvgjsText1023" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="115px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="133.875" transform="rotate(0)"><tspan id="SvgjsTspan1024" dy="16" x="67.5"><tspan id="SvgjsTspan1025" style="text-decoration:;">后端</tspan></tspan></text></g></g><g id="SvgjsG1026"><path id="SvgjsPath1027" d="M456 149L597 149L597 149L738 149" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1028)"></path><rect id="SvgjsRect1030" width="150" height="16" x="522" y="141" fill="#ffffff"></rect><text id="SvgjsText1031" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="150px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="139.375" transform="rotate(0)"><tspan id="SvgjsTspan1032" dy="16" x="597"><tspan id="SvgjsTspan1033" style="text-decoration:;">① 输入账号密码,点击登录</tspan></tspan></text></g><g id="SvgjsG1034"><path id="SvgjsPath1035" d="M883 147L1037 147L1037 147L1191 147" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1036)"></path><rect id="SvgjsRect1038" width="91" height="16" x="991.5" y="139" fill="#ffffff"></rect><text id="SvgjsText1039" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="91px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="137.375" transform="rotate(0)"><tspan id="SvgjsTspan1040" dy="16" x="1037"><tspan id="SvgjsTspan1041" style="text-decoration:;">②调用登录接口</tspan></tspan></text></g><g id="SvgjsG1042"><path id="SvgjsPath1043" d="M1195 245L826 245L826 245L457 245" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1044)"></path><rect id="SvgjsRect1046" width="268" height="16" x="692" y="237" fill="#ffffff"></rect><text id="SvgjsText1047" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="268px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="235.375" transform="rotate(0)"><tspan id="SvgjsTspan1048" dy="16" x="826"><tspan id="SvgjsTspan1049" style="text-decoration:;">③核验账号密码，生成sessionid,返回登录凭证</tspan></tspan></text></g><g id="SvgjsG1050"><path id="SvgjsPath1051" d="M458 311L824.5 311L824.5 311L1191 311" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1052)"></path><rect id="SvgjsRect1054" width="247" height="16" x="701" y="303" fill="#ffffff"></rect><text id="SvgjsText1055" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="247px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="301.375" transform="rotate(0)"><tspan id="SvgjsTspan1056" dy="16" x="824.5"><tspan id="SvgjsTspan1057" style="text-decoration:;">④以后再在该网站做操作都会携带登录凭证</tspan></tspan></text></g><g id="SvgjsG1058" transform="translate(308,463)"><path id="SvgjsPath1059" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1060"><text id="SvgjsText1061" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="10.375" transform="rotate(0)"><tspan id="SvgjsTspan1062" dy="16" x="60"><tspan id="SvgjsTspan1063" style="text-decoration:;">问题:</tspan></tspan></text></g></g><g id="SvgjsG1064" transform="translate(376.625,452)"><path id="SvgjsPath1065" d="M 0 0L 859 0L 859 215L 0 215Z" stroke="none" fill="none"></path><g id="SvgjsG1066"><text id="SvgjsText1067" font-family="微软雅黑" text-anchor="start" font-size="13px" width="859px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="65.375" transform="rotate(0)"><tspan id="SvgjsTspan1068" dy="16" x="0"><tspan id="SvgjsTspan1069" style="text-decoration:;">① 保护网站域名，防范中间人攻击(证书)，数据传输加密,使用https ;  接口防刷,设置验证码 ; </tspan></tspan><tspan id="SvgjsTspan1070" dy="16" x="0"><tspan id="SvgjsTspan1071" style="text-decoration:;">② 调用登录接口, 因为前后端分离，存在跨域问题，使用CORS解决。  -- postman测试不出跨域</tspan></tspan><tspan id="SvgjsTspan1072" dy="16" x="0"><tspan id="SvgjsTspan1073" style="text-decoration:;">③ 密码在数据库中是加密存储的,每次校验时将用户输入的明文密码经过同样的加密算法加密后与存储的加密密码比较，防止数据泄露时泄露明文密码 </tspan></tspan><tspan id="SvgjsTspan1074" dy="16" x="0"><tspan id="SvgjsTspan1075" style="text-decoration:;">;  使用#{} 防止sql注入。</tspan></tspan><tspan id="SvgjsTspan1076" dy="16" x="0"><tspan id="SvgjsTspan1077" style="text-decoration:;">④ 提交登录凭证 (cookie, header , body)  ; 因为是cookie session式，有状态，服务端需要存储</tspan></tspan></text></g></g><g id="SvgjsG1078" transform="translate(583,25)"><path id="SvgjsPath1079" d="M 0 0L 471 0L 471 44L 0 44Z" stroke="none" fill="none"></path><g id="SvgjsG1080"><text id="SvgjsText1081" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="471px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.375" transform="rotate(0)"><tspan id="SvgjsTspan1082" dy="16" x="235.5"><tspan id="SvgjsTspan1083" style="text-decoration:;">前后端分离 - cookie session模式</tspan></tspan></text></g></g><g id="SvgjsG1084" transform="translate(1117,288)"><path id="SvgjsPath1085" d="M 0 0L 87 0L 87 40L 0 40Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1086"><text id="SvgjsText1087" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="67px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="10.375" transform="rotate(0)"><tspan id="SvgjsTspan1088" dy="16" x="43.5"><tspan id="SvgjsTspan1089" style="text-decoration:;">session</tspan></tspan></text></g></g><g id="SvgjsG1090" transform="translate(284.75,994)"><path id="SvgjsPath1091" d="M 0 0L 130 0L 130 307L 0 307Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1092"><text id="SvgjsText1093" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="110px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="143.875" transform="rotate(0)"><tspan id="SvgjsTspan1094" dy="16" x="65"><tspan id="SvgjsTspan1095" style="text-decoration:;">client</tspan></tspan></text></g></g><g id="SvgjsG1096" transform="translate(731.75,994)"><path id="SvgjsPath1097" d="M 0 0L 99 0L 99 117L 0 117Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1098"><text id="SvgjsText1099" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="79px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="48.875" transform="rotate(0)"><tspan id="SvgjsTspan1100" dy="16" x="49.5"><tspan id="SvgjsTspan1101" style="text-decoration:;">前端</tspan></tspan></text></g></g><g id="SvgjsG1102" transform="translate(1176.75,1004)"><path id="SvgjsPath1103" d="M 0 0L 135 0L 135 287L 0 287Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1104"><text id="SvgjsText1105" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="115px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="133.875" transform="rotate(0)"><tspan id="SvgjsTspan1106" dy="16" x="67.5"><tspan id="SvgjsTspan1107" style="text-decoration:;">后端</tspan></tspan></text></g></g><g id="SvgjsG1108"><path id="SvgjsPath1109" d="M423.75 1040L564.75 1040L564.75 1040L705.75 1040" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1110)"></path><rect id="SvgjsRect1112" width="150" height="16" x="489.75" y="1032" fill="#ffffff"></rect><text id="SvgjsText1113" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="150px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1030.375" transform="rotate(0)"><tspan id="SvgjsTspan1114" dy="16" x="564.75"><tspan id="SvgjsTspan1115" style="text-decoration:;">① 输入账号密码,点击登录</tspan></tspan></text></g><g id="SvgjsG1116"><path id="SvgjsPath1117" d="M850.75 1038L1004.75 1038L1004.75 1038L1158.75 1038" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1118)"></path><rect id="SvgjsRect1120" width="91" height="16" x="959.25" y="1030" fill="#ffffff"></rect><text id="SvgjsText1121" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="91px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1028.375" transform="rotate(0)"><tspan id="SvgjsTspan1122" dy="16" x="1004.75"><tspan id="SvgjsTspan1123" style="text-decoration:;">②调用登录接口</tspan></tspan></text></g><g id="SvgjsG1124"><path id="SvgjsPath1125" d="M1162.75 1136L793.75 1136L793.75 1136L424.75 1136" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1126)"></path><rect id="SvgjsRect1128" width="216" height="16" x="685.75" y="1128" fill="#ffffff"></rect><text id="SvgjsText1129" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="216px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1126.375" transform="rotate(0)"><tspan id="SvgjsTspan1130" dy="16" x="793.75"><tspan id="SvgjsTspan1131" style="text-decoration:;">③核验账号密码,返回登录凭证(token)</tspan></tspan></text></g><g id="SvgjsG1132"><path id="SvgjsPath1133" d="M425.75 1202L792.25 1202L792.25 1202L1158.75 1202" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1134)"></path><rect id="SvgjsRect1136" width="291" height="16" x="646.75" y="1194" fill="#ffffff"></rect><text id="SvgjsText1137" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="291px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1192.375" transform="rotate(0)"><tspan id="SvgjsTspan1138" dy="16" x="792.25"><tspan id="SvgjsTspan1139" style="text-decoration:;">④以后再在该网站做操作都会携带登录凭证(token)</tspan></tspan></text></g><g id="SvgjsG1140" transform="translate(550.75,916)"><path id="SvgjsPath1141" d="M 0 0L 471 0L 471 44L 0 44Z" stroke="none" fill="none"></path><g id="SvgjsG1142"><text id="SvgjsText1143" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="471px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.375" transform="rotate(0)"><tspan id="SvgjsTspan1144" dy="16" x="235.5"><tspan id="SvgjsTspan1145" style="text-decoration:;">前后端分离 - token模式</tspan></tspan></text></g></g><g id="SvgjsG1146" transform="translate(448.75,1389)"><path id="SvgjsPath1147" d="M 0 0L 372 0L 372 73L 0 73Z" stroke="none" fill="none"></path><g id="SvgjsG1148"><text id="SvgjsText1149" font-family="微软雅黑" text-anchor="start" font-size="13px" width="372px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2.375" transform="rotate(0)"><tspan id="SvgjsTspan1150" dy="16" x="0"><tspan id="SvgjsTspan1151" style="text-decoration:;">token模式，区别就是登录凭证里装的是token，比如JWT。</tspan></tspan><tspan id="SvgjsTspan1152" dy="16" x="0"><tspan id="SvgjsTspan1153" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1154" dy="16" x="0"><tspan id="SvgjsTspan1155" style="text-decoration:;">如果只有自己系统用,可以使用HMAC系列算法进行单向散列。</tspan></tspan><tspan id="SvgjsTspan1156" dy="16" x="0"><tspan id="SvgjsTspan1157" style="text-decoration:;"> </tspan></tspan></text></g></g><g id="SvgjsG1158" transform="translate(519.75,1508)"><path id="SvgjsPath1159" d="M 0 0L 87 0L 87 51L 0 51Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1160"><text id="SvgjsText1161" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="67px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="15.875" transform="rotate(0)"><tspan id="SvgjsTspan1162" dy="16" x="43.5"><tspan id="SvgjsTspan1163" style="text-decoration:;">密钥</tspan></tspan></text></g></g><g id="SvgjsG1164" transform="translate(435.75,1596)"><path id="SvgjsPath1165" d="M 0 0L 171 0L 171 54L 0 54Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1166"><text id="SvgjsText1167" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="151px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="17.375" transform="rotate(0)"><tspan id="SvgjsTspan1168" dy="16" x="85.5"><tspan id="SvgjsTspan1169" style="text-decoration:;">非敏感数据</tspan></tspan></text></g></g><g id="SvgjsG1170"><path id="SvgjsPath1171" d="M616.75 1532L695.25 1532L695.25 1621L773.75 1621" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1172)"></path></g><g id="SvgjsG1174"><path id="SvgjsPath1175" d="M617.75 1621L695.75 1621L695.75 1621L773.75 1621" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1176)"></path><rect id="SvgjsRect1178" width="26" height="16" x="678" y="1613" fill="#ffffff"></rect><text id="SvgjsText1179" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="26px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1611.375" transform="rotate(0)"><tspan id="SvgjsTspan1180" dy="16" x="691"><tspan id="SvgjsTspan1181" style="text-decoration:;">加密</tspan></tspan></text></g><g id="SvgjsG1182" transform="translate(782.75,1588)"><path id="SvgjsPath1183" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1184"><text id="SvgjsText1185" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="25.375" transform="rotate(0)"><tspan id="SvgjsTspan1186" dy="16" x="50"><tspan id="SvgjsTspan1187" style="text-decoration:;">签名</tspan></tspan></text></g></g><g id="SvgjsG1188" transform="translate(846.75,1347)"><path id="SvgjsPath1189" d="M 0 0L 360 0L 360 84L 0 84Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1190"><text id="SvgjsText1191" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="340px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="32.375" transform="rotate(0)"></text></g></g><g id="SvgjsG1192" transform="translate(860.75,1354)"><path id="SvgjsPath1193" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1194"><text id="SvgjsText1195" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="25.375" transform="rotate(0)"><tspan id="SvgjsTspan1196" dy="16" x="50"><tspan id="SvgjsTspan1197" style="text-decoration:;">头部</tspan></tspan></text></g></g><g id="SvgjsG1198" transform="translate(976.75,1354)"><path id="SvgjsPath1199" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1200"><text id="SvgjsText1201" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="25.375" transform="rotate(0)"><tspan id="SvgjsTspan1202" dy="16" x="50"><tspan id="SvgjsTspan1203" style="text-decoration:;">数据</tspan></tspan></text></g></g><g id="SvgjsG1204" transform="translate(1092.75,1354)"><path id="SvgjsPath1205" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1206"><text id="SvgjsText1207" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="25.375" transform="rotate(0)"><tspan id="SvgjsTspan1208" dy="16" x="50"><tspan id="SvgjsTspan1209" style="text-decoration:;">签名</tspan></tspan></text></g></g><g id="SvgjsG1210" transform="translate(441.75,1687)"><path id="SvgjsPath1211" d="M 0 0L 498 0L 498 122L 0 122Z" stroke="none" fill="none"></path><g id="SvgjsG1212"><text id="SvgjsText1213" font-family="微软雅黑" text-anchor="start" font-size="13px" width="498px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="10.375" transform="rotate(0)"><tspan id="SvgjsTspan1214" dy="16" x="0"><tspan id="SvgjsTspan1215" style="text-decoration:;">jwt整体都是明文，但是由于HMAC使用的密钥只有我们持有，因此只有我们可以再将</tspan></tspan><tspan id="SvgjsTspan1216" dy="16" x="0"><tspan id="SvgjsTspan1217" style="text-decoration:;">数据加密后，验证与签名是否相同，可以保证jwt没有被人篡改过。</tspan></tspan><tspan id="SvgjsTspan1218" dy="16" x="0"><tspan id="SvgjsTspan1219" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1220" dy="16" x="0"><tspan id="SvgjsTspan1221" style="text-decoration:;">因此，根据这种特性，我们可以实现服务端不需要保存用户的登录状态,每次只需要调用</tspan></tspan><tspan id="SvgjsTspan1222" dy="16" x="0"><tspan id="SvgjsTspan1223" style="text-decoration:;">算法验签，并且检查有效期即可。</tspan></tspan><tspan id="SvgjsTspan1224" dy="16" x="0"><tspan id="SvgjsTspan1225" style="text-decoration:;"> </tspan></tspan></text></g></g><g id="SvgjsG1226" transform="translate(1015,341)"><path id="SvgjsPath1227" d="M 0 0L 182 0L 182 30L 0 30Z" stroke="none" fill="none"></path><g id="SvgjsG1228"><text id="SvgjsText1229" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="182px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-3.125" transform="rotate(0)"><tspan id="SvgjsTspan1230" dy="16" x="91"><tspan id="SvgjsTspan1231" style="text-decoration:;">⑤ 后端查看session中是否有该</tspan></tspan><tspan id="SvgjsTspan1232" dy="16" x="91"><tspan id="SvgjsTspan1233" style="text-decoration:;">凭证判断用户登录</tspan></tspan></text></g></g><g id="SvgjsG1234" transform="translate(1117,220)"><path id="SvgjsPath1235" d="M 0 0L 87 0L 87 40L 0 40Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1236"><text id="SvgjsText1237" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="67px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="10.375" transform="rotate(0)"><tspan id="SvgjsTspan1238" dy="16" x="43.5"><tspan id="SvgjsTspan1239" style="text-decoration:;">session</tspan></tspan></text></g></g><g id="SvgjsG1240" transform="translate(984.75,1224)"><path id="SvgjsPath1241" d="M 0 0L 182 0L 182 30L 0 30Z" stroke="none" fill="none"></path><g id="SvgjsG1242"><text id="SvgjsText1243" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="182px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.375" transform="rotate(0)"><tspan id="SvgjsTspan1244" dy="16" x="91"><tspan id="SvgjsTspan1245" style="text-decoration:;">⑤ 后端使用密钥验签验证登录</tspan></tspan></text></g></g><g id="SvgjsG1246" transform="translate(269.25,1851)"><path id="SvgjsPath1247" d="M 0 0L 731 0L 731 61L 0 61Z" stroke="none" fill="none"></path><g id="SvgjsG1248"><text id="SvgjsText1249" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="731px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="20.875" transform="rotate(0)"><tspan id="SvgjsTspan1250" dy="16" x="365.5"><tspan id="SvgjsTspan1251" style="text-decoration:;">JWT的优劣(仅供参考) :https://www.jianshu.com/p/af8360b83a9f</tspan></tspan></text></g></g><g id="SvgjsG1252" transform="translate(339.75,1995)"><path id="SvgjsPath1253" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1254"><text id="SvgjsText1255" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="10.375" transform="rotate(0)"></text></g></g><g id="SvgjsG1256" transform="translate(105,2363)"><path id="SvgjsPath1257" d="M 0 0L 108 0L 108 320L 0 320Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1258"><text id="SvgjsText1259" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="88px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="150.375" transform="rotate(0)"><tspan id="SvgjsTspan1260" dy="16" x="54"><tspan id="SvgjsTspan1261" style="text-decoration:;">用户</tspan></tspan></text></g></g><g id="SvgjsG1262" transform="translate(753.5,2363)"><path id="SvgjsPath1263" d="M 0 0L 90.5 0L 90.5 351L 0 351Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1264"><text id="SvgjsText1265" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="71px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="157.375" transform="rotate(0)"><tspan id="SvgjsTspan1266" dy="16" x="45.5"><tspan id="SvgjsTspan1267" style="text-decoration:;">QQ授权服</tspan></tspan><tspan id="SvgjsTspan1268" dy="16" x="45.5"><tspan id="SvgjsTspan1269" style="text-decoration:;">务器</tspan></tspan></text></g></g><g id="SvgjsG1270" transform="translate(754.125,2768)"><path id="SvgjsPath1271" d="M 0 0L 89.25 0L 89.25 82L 0 82Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1272"><text id="SvgjsText1273" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="70px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="22.875" transform="rotate(0)"><tspan id="SvgjsTspan1274" dy="16" x="45"><tspan id="SvgjsTspan1275" style="text-decoration:;">QQ资源服</tspan></tspan><tspan id="SvgjsTspan1276" dy="16" x="45"><tspan id="SvgjsTspan1277" style="text-decoration:;">务器</tspan></tspan></text></g></g><g id="SvgjsG1278" transform="translate(397.25,2363)"><path id="SvgjsPath1279" d="M 0 0L 73.75 0L 73.75 104L 0 104Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1280"><text id="SvgjsText1281" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="54px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="33.875" transform="rotate(0)"><tspan id="SvgjsTspan1282" dy="16" x="37"><tspan id="SvgjsTspan1283" style="text-decoration:;">第三方应</tspan></tspan><tspan id="SvgjsTspan1284" dy="16" x="37"><tspan id="SvgjsTspan1285" style="text-decoration:;">用</tspan></tspan></text></g></g><g id="SvgjsG1286"><path id="SvgjsPath1287" d="M222 2386L302 2386L302 2386L382 2386" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1288)"></path><rect id="SvgjsRect1290" width="112" height="16" x="246" y="2378" fill="#ffffff"></rect><text id="SvgjsText1291" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="112px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2376.375" transform="rotate(0)"><tspan id="SvgjsTspan1292" dy="16" x="302"><tspan id="SvgjsTspan1293" style="text-decoration:;">①想要使用QQ登录</tspan></tspan></text></g><g id="SvgjsG1294"><path id="SvgjsPath1295" d="M476 2382L602 2382L602 2382L728 2382" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1296)"></path><rect id="SvgjsRect1298" width="125" height="16" x="539.5" y="2374" fill="#ffffff"></rect><text id="SvgjsText1299" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="125px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2372.375" transform="rotate(0)"><tspan id="SvgjsTspan1300" dy="16" x="602"><tspan id="SvgjsTspan1301" style="text-decoration:;">②跳转到QQ授权服务</tspan></tspan></text></g><g id="SvgjsG1302" transform="translate(857,2406)"><path id="SvgjsPath1303" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1304"><text id="SvgjsText1305" font-family="微软雅黑" text-anchor="start" font-size="13px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1.875" transform="rotate(0)"><tspan id="SvgjsTspan1306" dy="16" x="0"><tspan id="SvgjsTspan1307" style="text-decoration:;">③ 用户在QQ的授权</tspan></tspan><tspan id="SvgjsTspan1308" dy="16" x="0"><tspan id="SvgjsTspan1309" style="text-decoration:;">页面登录并授权</tspan></tspan></text></g></g><g id="SvgjsG1310" transform="translate(324,2315)"><path id="SvgjsPath1311" d="M 0 0L 1672 0L 1672 35L 0 35Z" stroke="none" fill="none"></path><g id="SvgjsG1312"><text id="SvgjsText1313" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="1672px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1314" dy="16" x="836"><tspan id="SvgjsTspan1315" style="text-decoration:;">https://graph.qq.com/oauth2.0/show?which=Login&amp;display=pc&amp;</tspan><tspan id="SvgjsTspan1316" style="text-decoration:;fill: rgb(229, 115, 115);">client_id</tspan><tspan id="SvgjsTspan1317" style="text-decoration:;">=100410602&amp;</tspan><tspan id="SvgjsTspan1318" style="text-decoration:;fill: rgb(244, 67, 54);">redirect_uri</tspan><tspan id="SvgjsTspan1319" style="text-decoration:;">=https%3A%2F%2Fwww.jianshu.com%2Fusers%2Fauth%2Fqq_connect%2Fcallback&amp;</tspan><tspan id="SvgjsTspan1320" style="text-decoration:;fill: rgb(229, 115, 115);">response_type</tspan><tspan id="SvgjsTspan1321" style="text-decoration:;">=code&amp;state=%257B%257D</tspan></tspan></text></g></g><g id="SvgjsG1322"><path id="SvgjsPath1323" d="M728 2507L475.5 2507L475.5 2507L223 2507" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1324)"></path><rect id="SvgjsRect1326" width="256" height="32" x="322" y="2491" fill="#ffffff"></rect><text id="SvgjsText1327" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="256px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2489.375" transform="rotate(0)"><tspan id="SvgjsTspan1328" dy="16" x="450"><tspan id="SvgjsTspan1329" style="text-decoration:;">④ 重定向到redirect_url对应地址</tspan></tspan><tspan id="SvgjsTspan1330" dy="16" x="450"><tspan id="SvgjsTspan1331" style="text-decoration:;">并携带参数code,(某些时候有refresh_token)</tspan></tspan></text></g><g id="SvgjsG1332"><path id="SvgjsPath1333" d="M478 2594L612.5 2594L612.5 2594L747 2594" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1334)"></path><rect id="SvgjsRect1336" width="216" height="32" x="497" y="2578" fill="#ffffff"></rect><text id="SvgjsText1337" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="216px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2576.375" transform="rotate(0)"><tspan id="SvgjsTspan1338" dy="16" x="605"><tspan id="SvgjsTspan1339" style="text-decoration:;">⑤ 第三方应用的后端用code和自己的</tspan></tspan><tspan id="SvgjsTspan1340" dy="16" x="605"><tspan id="SvgjsTspan1341" style="text-decoration:;">密钥换取access_token</tspan></tspan></text></g><g id="SvgjsG1342"><path id="SvgjsPath1343" d="M219 2587L299 2587L299 2587L379 2587" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1344)"></path><rect id="SvgjsRect1346" width="13" height="16" x="292.5" y="2579" fill="#ffffff"></rect><text id="SvgjsText1347" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="13px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2577.375" transform="rotate(0)"><tspan id="SvgjsTspan1348" dy="16" x="299"><tspan id="SvgjsTspan1349" style="text-decoration:;">④</tspan></tspan></text></g><g id="SvgjsG1350" transform="translate(397.25,2531)"><path id="SvgjsPath1351" d="M 0 0L 73.75 0L 73.75 311L 0 311Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1352"><text id="SvgjsText1353" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="54px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="137.375" transform="rotate(0)"><tspan id="SvgjsTspan1354" dy="16" x="37"><tspan id="SvgjsTspan1355" style="text-decoration:;">第三方应</tspan></tspan><tspan id="SvgjsTspan1356" dy="16" x="37"><tspan id="SvgjsTspan1357" style="text-decoration:;">用</tspan></tspan></text></g></g><g id="SvgjsG1358"><path id="SvgjsPath1359" d="M744 2634L614.5 2634L614.5 2634L485 2634" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1360)"></path><rect id="SvgjsRect1362" width="124" height="16" x="552.5" y="2626" fill="#ffffff"></rect><text id="SvgjsText1363" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="124px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2624.375" transform="rotate(0)"><tspan id="SvgjsTspan1364" dy="16" x="614.5"><tspan id="SvgjsTspan1365" style="text-decoration:;">⑥ 返回access_token</tspan></tspan></text></g><g id="SvgjsG1366"><path id="SvgjsPath1367" d="M481 2806L613.5 2806L613.5 2806L746 2806" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1368)"></path><rect id="SvgjsRect1370" width="202" height="16" x="512.5" y="2798" fill="#ffffff"></rect><text id="SvgjsText1371" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="202px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2796.375" transform="rotate(0)"><tspan id="SvgjsTspan1372" dy="16" x="613.5"><tspan id="SvgjsTspan1373" style="text-decoration:;">⑦ 使用access_token换取用户数据</tspan></tspan></text></g><g id="SvgjsG1374" transform="translate(220,2257)"><path id="SvgjsPath1375" d="M 0 0L 416 0L 416 45L 0 45Z" stroke="none" fill="none"></path><g id="SvgjsG1376"><text id="SvgjsText1377" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="416px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="12.875" transform="rotate(0)"><tspan id="SvgjsTspan1378" dy="16" x="208"><tspan id="SvgjsTspan1379" style="text-decoration:;">第三方登录：  开放授权协议OAuth2.0   -   授权码模式</tspan></tspan></text></g></g><g id="SvgjsG1380" transform="translate(539.75,3610)"><path id="SvgjsPath1381" d="M 0 0L 438 0L 438 20L 0 20Z" stroke="none" fill="none"></path><g id="SvgjsG1382"><text id="SvgjsText1383" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="438px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="0.375" transform="rotate(0)"><tspan id="SvgjsTspan1384" dy="16" x="219"><tspan id="SvgjsTspan1385" style="text-decoration:;">单点登录,有较多的方法实现，如CAS模式，OIDC, 仅jwt，仅OAuth2.0</tspan></tspan></text></g></g><g id="SvgjsG1386" transform="translate(97,3170)"><path id="SvgjsPath1387" d="M 0 0L 506.25 0L 506.25 63L 0 63Z" stroke="none" fill="none"></path><g id="SvgjsG1388"><text id="SvgjsText1389" font-family="微软雅黑" text-anchor="start" font-size="13px" width="507px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="13.375" transform="rotate(0)"><tspan id="SvgjsTspan1390" dy="16" x="0"><tspan id="SvgjsTspan1391" style="text-decoration:;">授权码模式中的第④和第⑤步能否合在一起？</tspan></tspan><tspan id="SvgjsTspan1392" dy="16" x="0"><tspan id="SvgjsTspan1393" style="text-decoration:;">即不返回code，直接返回token</tspan></tspan></text></g></g><g id="SvgjsG1394" transform="translate(97,3247)"><path id="SvgjsPath1395" d="M 0 0L 805 0L 805 75L 0 75Z" stroke="none" fill="none"></path><g id="SvgjsG1396"><text id="SvgjsText1397" font-family="微软雅黑" text-anchor="start" font-size="13px" width="805px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="11.375" transform="rotate(0)"><tspan id="SvgjsTspan1398" dy="16" x="0"><tspan id="SvgjsTspan1399" style="text-decoration:;">可以，如果合为一步就是OAuth2.0四种模式中的简化模式，但是由于从授权服务器重定向到回调接口时会经过用户浏览器，一般被认为是不</tspan></tspan><tspan id="SvgjsTspan1400" dy="16" x="0"><tspan id="SvgjsTspan1401" style="text-decoration:;">安全信道，因此只返回了code。</tspan><tspan id="SvgjsTspan1402" style="text-decoration:;font-size: inherit;">在重定向到回调接口后，第三方应用后端拿着code和自己的app密钥去换取token时，由于是从后端服务器</tspan></tspan><tspan id="SvgjsTspan1403" dy="16" x="0"><tspan id="SvgjsTspan1404" style="text-decoration:;font-size: inherit;">到授权服务器，因此认为较为安全。</tspan></tspan></text></g></g><g id="SvgjsG1405" transform="translate(87.125,3356)"><path id="SvgjsPath1406" d="M 0 0L 465.875 0L 465.875 56L 0 56Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1407"><text id="SvgjsText1408" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="446px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="18.375" transform="rotate(0)"><tspan id="SvgjsTspan1409" dy="16" x="233"><tspan id="SvgjsTspan1410" style="text-decoration:;">四种模式介绍：https://zhuanlan.zhihu.com/p/375154660</tspan></tspan></text></g></g><g id="SvgjsG1411" transform="translate(512.625,3687)"><path id="SvgjsPath1412" d="M 0 0L 239 0L 239 28L 0 28Z" stroke="none" fill="none"></path><g id="SvgjsG1413"><text id="SvgjsText1414" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="239px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1415" dy="16" x="119.5"><tspan id="SvgjsTspan1416" style="text-decoration:;">CAS （中央认证服务）</tspan></tspan></text></g></g><g id="SvgjsG1417" transform="translate(563.125,3712)"><path id="SvgjsPath1418" d="M 0 0L 548.875 0L 548.875 51L 0 51Z" stroke="none" fill="none"></path><g id="SvgjsG1419"><text id="SvgjsText1420" font-family="微软雅黑" text-anchor="start" font-size="13px" width="549px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="15.875" transform="rotate(0)"><tspan id="SvgjsTspan1421" dy="16" x="0"><tspan id="SvgjsTspan1422" style="text-decoration:;">可以看做是多个系统的登录都要在一个中央认证系统来做,通过cookie跨域实现</tspan></tspan></text></g></g><g id="SvgjsG1423" transform="translate(687.25,3798)"><path id="SvgjsPath1424" d="M 0 0L 68.375 0L 68.375 635L 0 635Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1425"><text id="SvgjsText1426" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="49px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="307.875" transform="rotate(0)"><tspan id="SvgjsTspan1427" dy="16" x="34.5"><tspan id="SvgjsTspan1428" style="text-decoration:;">系统A</tspan></tspan></text></g></g><g id="SvgjsG1429" transform="translate(940.875,3798)"><path id="SvgjsPath1430" d="M 0 0L 71.75 0L 71.75 1118L 0 1118Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1431"><text id="SvgjsText1432" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="52px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="532.875" transform="rotate(0)"><tspan id="SvgjsTspan1433" dy="16" x="36"><tspan id="SvgjsTspan1434" style="text-decoration:;">中央认证</tspan></tspan><tspan id="SvgjsTspan1435" dy="16" x="36"><tspan id="SvgjsTspan1436" style="text-decoration:;">服务</tspan></tspan><tspan id="SvgjsTspan1437" dy="16" x="36"><tspan id="SvgjsTspan1438" style="text-decoration:;">（CAS）</tspan></tspan></text></g></g><g id="SvgjsG1439"><path id="SvgjsPath1440" d="M505.625 3828.5882352941176L590.125 3828.5882352941176L590.125 3828.5882352941176L674.625 3828.5882352941176" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1441)"></path><rect id="SvgjsRect1443" width="130" height="16" x="525.125" y="3820.5882352941176" fill="#ffffff"></rect><text id="SvgjsText1444" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="130px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="3818.9632352941176" transform="rotate(0)"><tspan id="SvgjsTspan1445" dy="16" x="590.125"><tspan id="SvgjsTspan1446" style="text-decoration:;">① 用户尝试登录系统A</tspan></tspan></text></g><g id="SvgjsG1447" transform="translate(426,3810)"><path id="SvgjsPath1448" d="M 0 0L 74 0L 74 238L 0 238Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1449"><text id="SvgjsText1450" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="54px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="109.375" transform="rotate(0)"><tspan id="SvgjsTspan1451" dy="16" x="37"><tspan id="SvgjsTspan1452" style="text-decoration:;">客户端</tspan></tspan></text></g></g><g id="SvgjsG1453"><path id="SvgjsPath1454" d="M765.625 3819L846.625 3819L846.625 3819L927.625 3819" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1455)"></path><rect id="SvgjsRect1457" width="104" height="48" x="794.625" y="3795" fill="#ffffff"></rect><text id="SvgjsText1458" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="104px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="3793.375" transform="rotate(0)"><tspan id="SvgjsTspan1459" dy="16" x="846.625"><tspan id="SvgjsTspan1460" style="text-decoration:;">② 系统A重定向到</tspan></tspan><tspan id="SvgjsTspan1461" dy="16" x="846.625"><tspan id="SvgjsTspan1462" style="text-decoration:;">中央认证服务并</tspan></tspan><tspan id="SvgjsTspan1463" dy="16" x="846.625"><tspan id="SvgjsTspan1464" style="text-decoration:;">尝试登录</tspan></tspan></text></g><g id="SvgjsG1465" transform="translate(1021.625,3790)"><path id="SvgjsPath1466" d="M 0 0L 214 0L 214 136L 0 136Z" stroke="none" fill="none"></path><g id="SvgjsG1467"><text id="SvgjsText1468" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="214px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="25.875" transform="rotate(0)"><tspan id="SvgjsTspan1469" dy="16" x="107"><tspan id="SvgjsTspan1470" style="text-decoration:;">③ CAS经过某种方式认证，并在CAS</tspan></tspan><tspan id="SvgjsTspan1471" dy="16" x="107"><tspan id="SvgjsTspan1472" style="text-decoration:;">域名下存储一个cookie：TGC</tspan></tspan><tspan id="SvgjsTspan1473" dy="16" x="107"><tspan id="SvgjsTspan1474" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1475" dy="16" x="107"><tspan id="SvgjsTspan1476" style="text-decoration:;">TGC对应着session中存储的一个TGT</tspan></tspan><tspan id="SvgjsTspan1477" dy="16" x="107"><tspan id="SvgjsTspan1478" style="text-decoration:;">与TGC对应</tspan></tspan></text></g></g><g id="SvgjsG1479" transform="translate(708.625,3691)"><path id="SvgjsPath1480" d="M 0 0L 357 0L 357 21L 0 21Z" stroke="none" fill="none"></path><g id="SvgjsG1481"><text id="SvgjsText1482" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="357px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="0.875" transform="rotate(0)"><tspan id="SvgjsTspan1483" dy="16" x="178.5"><tspan id="SvgjsTspan1484" style="text-decoration:;">https://blog.csdn.net/ban_tang/article/details/80015946</tspan></tspan></text></g></g><g id="SvgjsG1485"><path id="SvgjsPath1486" d="M926.625 3898L844.625 3898L844.625 3898L762.625 3898" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1487)"></path><rect id="SvgjsRect1489" width="129" height="32" x="780.125" y="3882" fill="#ffffff"></rect><text id="SvgjsText1490" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="129px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="3880.375" transform="rotate(0)"><tspan id="SvgjsTspan1491" dy="16" x="844.625"><tspan id="SvgjsTspan1492" style="text-decoration:;">④ CAS重定向回A系统</tspan></tspan><tspan id="SvgjsTspan1493" dy="16" x="844.625"><tspan id="SvgjsTspan1494" style="text-decoration:;">携带小令牌ST</tspan></tspan></text></g><g id="SvgjsG1495"><path id="SvgjsPath1496" d="M761.625 3956L841.625 3956L841.625 3956L921.625 3956" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1497)"></path><rect id="SvgjsRect1499" width="132" height="32" x="775.625" y="3940" fill="#ffffff"></rect><text id="SvgjsText1500" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="132px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="3938.375" transform="rotate(0)"><tspan id="SvgjsTspan1501" dy="16" x="841.625"><tspan id="SvgjsTspan1502" style="text-decoration:;">⑤ 系统A拿ST请求用户</tspan></tspan><tspan id="SvgjsTspan1503" dy="16" x="841.625"><tspan id="SvgjsTspan1504" style="text-decoration:;">信息</tspan></tspan></text></g><g id="SvgjsG1505"><path id="SvgjsPath1506" d="M923.625 4000L844.625 4000L844.625 4000L765.625 4000" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1507)"></path><rect id="SvgjsRect1509" width="120" height="32" x="784.625" y="3984" fill="#ffffff"></rect><text id="SvgjsText1510" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="120px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="3982.375" transform="rotate(0)"><tspan id="SvgjsTspan1511" dy="16" x="844.625"><tspan id="SvgjsTspan1512" style="text-decoration:;">⑥ CAS返回用户凭证</tspan></tspan><tspan id="SvgjsTspan1513" dy="16" x="844.625"><tspan id="SvgjsTspan1514" style="text-decoration:;">并置ST为失效</tspan></tspan></text></g><g id="SvgjsG1515"><path id="SvgjsPath1516" d="M669.625 4004L588.125 4004L588.125 4004L506.625 4004" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1517)"></path><rect id="SvgjsRect1519" width="126" height="32" x="525.125" y="3988" fill="#ffffff"></rect><text id="SvgjsText1520" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="126px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="3986.375" transform="rotate(0)"><tspan id="SvgjsTspan1521" dy="16" x="588.125"><tspan id="SvgjsTspan1522" style="text-decoration:;">⑦ 系统A将用户凭证</tspan></tspan><tspan id="SvgjsTspan1523" dy="16" x="588.125"><tspan id="SvgjsTspan1524" style="text-decoration:;">存入cookie, 登录成功</tspan></tspan></text></g><g id="SvgjsG1525" transform="translate(429.1875,4186)"><path id="SvgjsPath1526" d="M 0 0L 67.625 0L 67.625 205L 0 205Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1527"><text id="SvgjsText1528" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="48px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="92.875" transform="rotate(0)"><tspan id="SvgjsTspan1529" dy="16" x="34"><tspan id="SvgjsTspan1530" style="text-decoration:;">客户端</tspan></tspan></text></g></g><g id="SvgjsG1531"><path id="SvgjsPath1532" d="M507.625 4233L587.625 4233L587.625 4233L667.625 4233" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1533)"></path><rect id="SvgjsRect1535" width="143" height="16" x="516.125" y="4225" fill="#ffffff"></rect><text id="SvgjsText1536" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="143px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4223.375" transform="rotate(0)"><tspan id="SvgjsTspan1537" dy="16" x="587.625"><tspan id="SvgjsTspan1538" style="text-decoration:;">⑧ 客户端再次登录系统A</tspan></tspan></text></g><g id="SvgjsG1539"><path id="SvgjsPath1540" d="M664.625 4348L588.625 4348L588.625 4348L512.625 4348" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1541)"></path><rect id="SvgjsRect1543" width="162" height="32" x="507.625" y="4332" fill="#ffffff"></rect><text id="SvgjsText1544" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="162px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4330.375" transform="rotate(0)"><tspan id="SvgjsTspan1545" dy="16" x="588.625"><tspan id="SvgjsTspan1546" style="text-decoration:;">⑨ 系统A cookie中已有用户</tspan></tspan><tspan id="SvgjsTspan1547" dy="16" x="588.625"><tspan id="SvgjsTspan1548" style="text-decoration:;">凭证，登录成功</tspan></tspan></text></g><g id="SvgjsG1549" transform="translate(429.1875,4567)"><path id="SvgjsPath1550" d="M 0 0L 67.625 0L 67.625 335L 0 335Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1551"><text id="SvgjsText1552" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="48px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="157.875" transform="rotate(0)"><tspan id="SvgjsTspan1553" dy="16" x="34"><tspan id="SvgjsTspan1554" style="text-decoration:;">客户端</tspan></tspan></text></g></g><g id="SvgjsG1555" transform="translate(691.625,4510)"><path id="SvgjsPath1556" d="M 0 0L 64 0L 64 410L 0 410Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1557"><text id="SvgjsText1558" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="44px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="195.375" transform="rotate(0)"><tspan id="SvgjsTspan1559" dy="16" x="32"><tspan id="SvgjsTspan1560" style="text-decoration:;">系统B</tspan></tspan></text></g></g><g id="SvgjsG1561"><path id="SvgjsPath1562" d="M513.625 4603L593.625 4603L593.625 4603L673.625 4603" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1563)"></path><rect id="SvgjsRect1565" width="103" height="16" x="542.125" y="4595" fill="#ffffff"></rect><text id="SvgjsText1566" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="103px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4593.375" transform="rotate(0)"><tspan id="SvgjsTspan1567" dy="16" x="593.625"><tspan id="SvgjsTspan1568" style="text-decoration:;">⑩ 用户登录系统B</tspan></tspan></text></g><g id="SvgjsG1569"><path id="SvgjsPath1570" d="M765.625 4602L845.625 4602L845.625 4602L925.625 4602" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1571)"></path><rect id="SvgjsRect1573" width="131" height="48" x="780.125" y="4578" fill="#ffffff"></rect><text id="SvgjsText1574" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="131px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4576.375" transform="rotate(0)"><tspan id="SvgjsTspan1575" dy="16" x="845.625"><tspan id="SvgjsTspan1576" style="text-decoration:;">11. 系统B重定向</tspan></tspan><tspan id="SvgjsTspan1577" dy="16" x="845.625"><tspan id="SvgjsTspan1578" style="text-decoration:;">到CAS，发现CAS域名</tspan></tspan><tspan id="SvgjsTspan1579" dy="16" x="845.625"><tspan id="SvgjsTspan1580" style="text-decoration:;">下的cookie中已有TGC</tspan></tspan></text></g><g id="SvgjsG1581"><path id="SvgjsPath1582" d="M923.625 4754L846.625 4754L846.625 4754L769.625 4754" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1583)"></path><rect id="SvgjsRect1585" width="89" height="16" x="802.125" y="4746" fill="#ffffff"></rect><text id="SvgjsText1586" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="89px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4744.375" transform="rotate(0)"><tspan id="SvgjsTspan1587" dy="16" x="846.625"><tspan id="SvgjsTspan1588" style="text-decoration:;">12. CAS返回ST</tspan></tspan></text></g><g id="SvgjsG1589"><path id="SvgjsPath1590" d="M764.625 4813L844.625 4813L844.625 4813L924.625 4813" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1591)"></path><rect id="SvgjsRect1593" width="128" height="16" x="780.625" y="4805" fill="#ffffff"></rect><text id="SvgjsText1594" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="128px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4803.375" transform="rotate(0)"><tspan id="SvgjsTspan1595" dy="16" x="844.625"><tspan id="SvgjsTspan1596" style="text-decoration:;">13. 用ST换取用户凭证</tspan></tspan></text></g><g id="SvgjsG1597"><path id="SvgjsPath1598" d="M917.625 4846L842.625 4846L842.625 4846L767.625 4846" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1599)"></path></g><g id="SvgjsG1601"><path id="SvgjsPath1602" d="M680.625 4858L592.125 4858L592.125 4858L503.625 4858" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1603)"></path><rect id="SvgjsRect1605" width="147" height="48" x="518.625" y="4834" fill="#ffffff"></rect><text id="SvgjsText1606" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="147px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4832.375" transform="rotate(0)"><tspan id="SvgjsTspan1607" dy="16" x="592.125"><tspan id="SvgjsTspan1608" style="text-decoration:;">14. 系统B将用户凭证存储</tspan></tspan><tspan id="SvgjsTspan1609" dy="16" x="592.125"><tspan id="SvgjsTspan1610" style="text-decoration:;">系统B域名下的cookie</tspan></tspan><tspan id="SvgjsTspan1611" dy="16" x="592.125"><tspan id="SvgjsTspan1612" style="text-decoration:;">登录成功</tspan></tspan></text></g><g id="SvgjsG1613" transform="translate(589.125,5010)"><path id="SvgjsPath1614" d="M 0 0L 254.25 0L 254.25 20L 0 20Z" stroke="none" fill="none"></path><g id="SvgjsG1615"><text id="SvgjsText1616" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="255px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="0.375" transform="rotate(0)"><tspan id="SvgjsTspan1617" dy="16" x="127.5"><tspan id="SvgjsTspan1618" style="text-decoration:;">如果不支持cookie怎么办?</tspan></tspan></text></g></g><g id="SvgjsG1619" transform="translate(339.75,657)"><path id="SvgjsPath1620" d="M 0 0L 310 0L 310 58L 0 58Z" stroke="none" fill="none"></path><g id="SvgjsG1621"><text id="SvgjsText1622" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="310px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="19.375" transform="rotate(0)"><tspan id="SvgjsTspan1623" dy="16" x="155"><tspan id="SvgjsTspan1624" style="text-decoration:;">如果禁用cookie, 可以放在其他存储的地方</tspan></tspan></text></g></g><g id="SvgjsG1625" transform="translate(386,5301)"><path id="SvgjsPath1626" d="M 0 0L 726 0L 726 65L 0 65Z" stroke="none" fill="none"></path><g id="SvgjsG1627"><text id="SvgjsText1628" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="726px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1629" dy="16" x="363"><tspan id="SvgjsTspan1630" style="text-decoration:;">权限认证框架： shiro, spring security，sa-token</tspan></tspan><tspan id="SvgjsTspan1631" dy="16" x="363"><tspan id="SvgjsTspan1632" style="text-decoration:;">前两个都是资深的安全框架,适合学习, 第三个是比较轻量级的权限认证框架.比较方便大家使用 </tspan></tspan></text></g></g><g id="SvgjsG1633" transform="translate(629.5,5443)"><path id="SvgjsPath1634" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1635"><text id="SvgjsText1636" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1.875" transform="rotate(0)"><tspan id="SvgjsTspan1637" dy="16" x="60"><tspan id="SvgjsTspan1638" style="text-decoration:;">用户权限管理模型: </tspan></tspan><tspan id="SvgjsTspan1639" dy="16" x="60"><tspan id="SvgjsTspan1640" style="text-decoration:;">RBAC</tspan></tspan></text></g></g><g id="SvgjsG1641" transform="translate(815.625,5443)"><path id="SvgjsPath1642" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1643"><text id="SvgjsText1644" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1.875" transform="rotate(0)"><tspan id="SvgjsTspan1645" dy="16" x="60"><tspan id="SvgjsTspan1646" style="text-decoration:;">其他的权限管理模型</tspan></tspan><tspan id="SvgjsTspan1647" dy="16" x="60"><tspan id="SvgjsTspan1648" style="text-decoration:;">ACL</tspan></tspan></text></g></g><g id="SvgjsG1649" transform="translate(523.875,5081)"><path id="SvgjsPath1650" d="M 0 0L 399.5 0L 399.5 23L 0 23Z" stroke="none" fill="none"></path><g id="SvgjsG1651"><text id="SvgjsText1652" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="400px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-6.625" transform="rotate(0)"><tspan id="SvgjsTspan1653" dy="16" x="200"><tspan id="SvgjsTspan1654" style="text-decoration:;fill: rgb(0, 0, 0);">只要能够让CAS记住自己的登录状态即可，</tspan></tspan><tspan id="SvgjsTspan1655" dy="16" x="200"><tspan id="SvgjsTspan1656" style="text-decoration:;fill: rgb(0, 0, 0);">比如使用一些存储 localstorage</tspan></tspan></text></g></g><g id="SvgjsG1657" transform="translate(25,174)"><path id="SvgjsPath1658" d="M 0 0L 236 0L 236 20L 0 20Z" stroke="none" fill="none"></path><g id="SvgjsG1659"><text id="SvgjsText1660" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="236px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="0.375" transform="rotate(0)"><tspan id="SvgjsTspan1661" dy="16" x="118"><tspan id="SvgjsTspan1662" style="text-decoration:;">认证：系统识别出当前访问的是哪个用户</tspan></tspan></text></g></g></svg>